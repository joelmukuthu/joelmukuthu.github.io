<!doctype html>
<html>
  <head>
    <title>jquery-aslider</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.min.css" />
    <!--[if lt IE 9]>
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.ie.min.css" />
    <![endif]-->
    <style>
      .right .github-fork-ribbon {
        background-color: #f80;
      }

      body {
        margin: 0;
        color: white;
        font-size: 0.65em;
        font-family: 'Open Sans', sans-serif;
        background: rgb(10, 84, 92);
      }

      @media screen and (min-width: 768px) {
        body {
          font-size: 1em;
        }

        .clearfix {
          font-size: 0;
        }

        .clearfix > div {
          font-size: 16px;
          line-height: 20px;
          display: inline-block;
          vertical-align: top;
        }

        .clearfix .left {
          width: 60%;
          box-sizing: border-box;
          padding-right: 5%;
        }

        .clearfix .right {
          width: 40%;
        }
      }

      #frame {
        position: fixed;
        top: 5%;
        bottom: 5%;
        right: 5%;
        left: 5%;
        overflow: hidden;
        border: 20px rgba(0, 0, 0, 0.5) solid;
        border-radius: 10px;
      }

      #screen {
        position: absolute;
        width: 300%;
        height: 300%;
        background: white;
        transition: transform 400ms ease-in-out;
      }

      #screen > div {
        float: left;
        width: 33.333%;
        height: 33.333%;
      }

      #text {
        padding: 1%;
        box-sizing: border-box;
        background: rgb(10, 84, 92);
      }

      #text h1 {
        margin-top: 0;
      }

      #text ul {
        padding: 0;
      }

      #text li {
        list-style-position: inside;
      }

      #screen #text, #screen .shadow {
        box-shadow: inset 0px 0px 20px -1px rgba(0, 0, 0, 0.75);
      }

      #screen .img {
        position: relative;
      }

      #screen .shadow {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }

      #screen img {
        display: block;
        width: 100%;
        height: 100%;
      }

      #indicators {
        display: none;
        position: absolute;
        top: 10px;
        right: 10px;
        text-align: center;
        width: 48px;
        height: 48px;
        line-height: 1;
        padding: 2px;
        background: rgb(5, 57, 63);
        opacity: 0.9;
        font-size: 0;
      }

      #indicators span {
        background: white;
        display: inline-block;
        width: 12px;
        height: 12px;
        margin: 2px;
        cursor: pointer;
        opacity: 0.9;
      }

      #indicators span:hover {
        opacity: 1;
      }

      #indicators .active {
        background: #f80;
        position: absolute;
        top: 2px;
        left: 2px;
        z-index: 1;
        opacity: 1;
        transition: transform 400ms ease-in-out;
      }

      #loader {
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.4);
      }

      #spinner {
        width: 40px;
        height: 40px;

        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      #double-bounce1, #double-bounce2 {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background-color: #333;
        opacity: 0.6;
        position: absolute;
        top: 0;
        left: 0;

        -webkit-animation: sk-bounce 2.0s infinite ease-in-out;
        animation: sk-bounce 2.0s infinite ease-in-out;
      }

      #double-bounce2 {
        -webkit-animation-delay: -1.0s;
        animation-delay: -1.0s;
      }

      @-webkit-keyframes sk-bounce {
        0%, 100% { -webkit-transform: scale(0.0) }
        50% { -webkit-transform: scale(1.0) }
      }

      @keyframes sk-bounce {
        0%, 100% {
          transform: scale(0.0);
          -webkit-transform: scale(0.0);
        } 50% {
          transform: scale(1.0);
          -webkit-transform: scale(1.0);
        }
      }
    </style>
  </head>
  <body>
    <div class="github-fork-ribbon-wrapper right">
        <div class="github-fork-ribbon">
            <a href="https://github.com/joelmukuthu/jquery-aslider">Fork me on GitHub</a>
        </div>
    </div>
    <div id="frame">
      <div id="screen">
        <div id="text">
          <h1>jquery-aslider</h1>
          <h3>slider plugin for jQuery</h3>
          <div class="clearfix">
            <div class="left">
              <p>supports:</p>
              <ul>
                <li>CSS transitions</li>
                <li>grid (vertical, horizontal and diagonal) transitions</li>
                <li>responsive designs</li>
                <li>items (pages) of unequal sizes</li>
                <li>API for you to initiate transitioning (e.g. to add touch support)</li>
                <li>up, down, left, right, previous, next, first and last buttons</li>
                <li>keyboard navigation</li>
                <li>before-slide and after-slide callbacks</li>
              </ul>
            </div>
            <div class="right">
              <p>to navigate the pages:</p>
              <ul>
                <li>use the keyboard arrow keys</li>
                <li>swipe up/right/down/left</li>
                <li>click on the pagination (top right)</li>
              </ul>
            </div>
          </div>
          <p>view page source to see the code for this demo.</p>
        </div>
      </div>
      <div id="loader">
        <div id="spinner">
          <div id="double-bounce1"></div>
          <div id="double-bounce2"></div>
        </div>
      </div>
      <div id="indicators">
        <span></span>
      </div>
    </div>

    <script src="./bower_components/jquery/dist/jquery.min.js"></script>
    <script src="./bower_components/hammerjs/hammer.min.js"></script>
    <script src="./bower_components/jquery-aslider/jquery-aslider.min.js"></script>

    <script>
      $(function () {
        var frame = $('#frame'),
            screen = $('#screen', frame),
            loader = $('#loader', frame),
            indicators = $('#indicators', frame),
            activePageIndicator = $('<span>', { class: 'active' });

        var imageWidth = loader.width(),
            imageHeight = loader.height(),
            totalImages = 8,
            imagesLoaded = 0,
            imageTypes = [
              'animals',
              'arch',
              'nature',
              'people',
              'tech',
              'any'
            ];

        function initSlider() {
          var slider = frame.aslider({
            keyboardArrowKeys: true,
            pageContainer: screen,
            cssTransitions: true,
            beforeSlide: function (index) {
              var coordinates = this._getCoordinates(index),
                  width = activePageIndicator.width(),
                  height = activePageIndicator.height(),
                  margin = parseInt(activePageIndicator.css('marginBottom'), 10) * 2,
                  top = coordinates.row * height + coordinates.row * margin,
                  left = coordinates.column * height + coordinates.column * margin;
              activePageIndicator.css({
                transform: 'translate(' + left + 'px, ' + top + 'px)'
              });
            }
          }).data('aslider');

          var indicatorSpans = $('span:not(.active)', indicators);
          indicators.on('click', 'span:not(.active)', function () {
            var index = indicatorSpans.index(this);
            slider.seek(index);
          });

          var hammertime = new Hammer(frame.get(0));

          hammertime.get('swipe').set({
            direction: Hammer.DIRECTION_ALL
          });

          hammertime.on('swipeup', slider.down.bind(slider));
          hammertime.on('swipedown', slider.up.bind(slider));
          hammertime.on('swipeleft', slider.right.bind(slider));
          hammertime.on('swiperight', slider.left.bind(slider));
        }

        function imageLoaded() {
          imagesLoaded++;
          if (imagesLoaded === totalImages) {
            loader.fadeOut();
            initSlider();
            indicators.fadeIn();
          }
        }

        for (var i = 0; i < totalImages; i++) {
          indicators.append('<span>');
          var cont = $('<div>', {
            class: 'img'
          });
          var img = $('<img>', {
            src: '//placeimg.com/' + imageWidth + '/' + imageHeight + '/' +
                 imageTypes[Math.floor(Math.random()*imageTypes.length)]
          }).on('load', imageLoaded);
          var shadow = $('<div>', {
            class: 'shadow'
          });
          screen.append(cont.append(img, shadow));
        }

        indicators.append(activePageIndicator);
      });

      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-71329704-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
