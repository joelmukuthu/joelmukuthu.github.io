/*! angular-snapscroll, version: 0.1.0 - 30-01-2015 */
!function(){"use strict";function a(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)}angular.module("snapscroll",[]).value("defaultSnapscrollScrollEasing",a).value("defaultSnapscrollScrollDelay",250).value("defaultSnapscrollSnapDuration",800).value("defaultSnapscrollResizeDelay",400).value("defaultSnapscrollBindScrollTimeout",400)}(),function(){"use strict";angular.module("snapscroll").directive("fitWindowHeight",["$window","$timeout","defaultSnapscrollResizeDelay",function(a,b,c){return{restrict:"A",require:"snapscroll",link:function(d,e,f,g){function h(){l===!1?g.setSnapHeight(a.innerHeight):(b.cancel(k),k=b(function(){g.setSnapHeight(a.innerHeight)},l))}function i(){"false"===l?l=!1:(l=parseInt(l,10),isNaN(l)&&(l=c)),g.setSnapHeight(a.innerHeight),j=angular.element(a),j.on("resize",h),d.$on("$destroy",function(){j.off("resize",h)})}var j,k,l=f.resizeDelay;i()}}}])}(),function(){"use strict";var a={snapIndex:"=?",snapHeight:"=?",beforeSnap:"&",afterSnap:"&",snapAnimation:"=?"},b=["$scope",function(a){this.setSnapHeight=function(b){a.snapHeight=b}}],c=function(a,b){a.$watch("snapHeight",function(c){return angular.isUndefined(c)?void(a.snapHeight=a.defaultSnapHeight):angular.isNumber(c)?void(angular.isFunction(b)&&b(c)):void(a.snapHeight=a.defaultSnapHeight)})},d=function(a,b){a.$watch("snapIndex",function(c,d){return angular.isUndefined(c)?void(a.snapIndex=0):angular.isNumber(c)?c%1!==0?void(a.snapIndex=Math.round(c)):a.ignoreThisSnapIndexChange?void(a.ignoreThisSnapIndexChange=void 0):a.isValid(c)?a.beforeSnap({snapIndex:c})===!1?(a.ignoreThisSnapIndexChange=!0,void(a.snapIndex=d)):void(angular.isFunction(b)&&(a.snapDirection=c>d?1:-1,b(c,function(){a.snapDirection=0,a.afterSnap({snapIndex:c})}))):(a.ignoreThisSnapIndexChange=!0,a.snapIndex=d,void(a.snapDirection=0)):void(a.snapIndex=0)})},e=function(a,b){var c,d,e;c=function(b){var c,d=Math.max(-1,Math.min(1,b.wheelDelta||-(b.deltaY||b.detail)));b.preventDefault(),isNaN(d)||(0>d?1!==a.snapDirection&&(a.snapIndex+1>a.max()?c=!0:(c=!1,a.$apply(function(){a.snapIndex+=1}))):-1!==a.snapDirection&&(a.snapIndex-1<a.min()?c=!0:(c=!1,a.$apply(function(){a.snapIndex-=1}))),c||b.stopPropagation())},d=function(){b.on("wheel mousewheel onmousewheel",c)},e=function(){b.off("wheel mousewheel onmousewheel",c)},d(),a.$on("$destroy",e)},f=["$timeout","scroll","defaultSnapscrollScrollDelay","defaultSnapscrollSnapDuration","defaultSnapscrollBindScrollTimeout",function(f,g,h,i,j){return{restrict:"A",scope:a,controller:b,link:function(a,b,k){var l,m,n,o,p,q,r,s,t,u=k.snapEasing,v=k.scrollDelay,w=k.snapDuration,x=angular.isDefined(k.preventSnappingAfterManualScroll);m=function(c){var d,e=c*a.snapHeight;d=a.snapAnimation?angular.isDefined(u)?[b,e,w,u]:[b,e,w]:[b,e],!x&&p&&q(),g.to.apply(g,d).then(function(){angular.isDefined(s)&&(s.call(),s=void 0),x||(f.cancel(t),t=f(o,j))})},n=function(){var c=function(){var c=b[0].scrollTop,d=a.snapIndex,e=Math.round(c/a.snapHeight);d===e?m(e):a.$apply(function(){a.snapIndex=e})};g.stop(b),v===!1?c():(f.cancel(r),r=f(c,v))},o=function(){return 0!==a.snapDirection?void(t=f(o,j)):(b.on("scroll",n),void(p=!0))},q=function(){b.off("scroll",n),p=!1},(l=function(){"false"===v?v=!1:(v=parseInt(v,10),isNaN(v)&&(v=h)),angular.isDefined(u)&&(u=a.$parent.$eval(u)),w=parseInt(w,10),isNaN(w)&&(w=i),a.$watch("snapAnimation",function(b){void 0===b&&(a.snapAnimation=!0)}),a.defaultSnapHeight=b[0].offsetHeight,a.min=function(){return 0},a.max=function(){return b.children().length-1},a.isValid=function(b){return b>=a.min()&&b<=a.max()},b.css("overflowY","auto"),c(a,function(){var c=b.children();b.css("height",a.snapHeight+"px"),c.length&&angular.forEach(c,function(b){angular.element(b).css("height",a.snapHeight+"px")}),m(a.snapIndex)}),d(a,function(a,b){s=b,m(a)}),x||(o(),a.$on("$destroy",q)),e(a,b)})()}}}];angular.module("snapscroll").directive("snapscroll",f)}(),function(){"use strict";var a=function(a,b){for(var c,d=["webkit","moz"],e=0;e<d.length&&!c;++e){var f=d[e];c=b[f+a]}return c},b=function(a){return/iP(ad|hone|od).*OS 6/.test(a.navigator.userAgent)};Date.now||(Date.now=function(){return(new Date).getTime()});var c=angular.module("snapscroll");c.factory("requestAnimation",["$timeout","$window",function(c,d){var e,f=d.requestAnimationFrame||a("RequestAnimationFrame",d);return(!f||b(d))&&(f=function(a){var b=Date.now(),d=Math.max(e+16,b);return c(function(){a(e=d)},d-b)}),f}]),c.factory("cancelAnimation",["$timeout","$window",function(c,d){var e=d.cancelAnimationFrame||a("CancelAnimationFrame",d)||a("CancelRequestAnimationFrame",d);return(!e||b(d))&&(e=c.cancel),e}])}(),function(){"use strict";var a=angular.module("snapscroll");a.factory("scroll",["$q","requestAnimation","cancelAnimation","defaultSnapscrollScrollEasing",function(a,b,c,d){function e(a,b){b=null,a.data("snapscroll-animation",null),a.data("snapscroll-animation-deferred",null)}return{to:function(f,g,h,i){var j,k,l,m,n,o,p;return l=function(){p+=o,f[0].scrollTop=i(p,j,k,h),h>p?(n=b(l,o),f.data("snapscroll-animation",n)):(e(f,n),m.resolve())},angular.isElement(f)&&angular.isNumber(g)?(m=a.defer(),h=parseInt(h),n=f.data("snapscroll-animation"),n&&(c(n),e(f,n)),0===h||isNaN(h)?(f[0].scrollTop=g,m.resolve()):("function"!=typeof i&&(i=d),j=f[0].scrollTop,k=g-j,p=0,o=20,l()),f.data("snapscroll-animation-deferred",m),m.promise):void 0},stop:function(a){var b=a.data("snapscroll-animation");b&&(c(b),a.data("snapscroll-animation-deferred").reject(),e(a,b))}}}])}();